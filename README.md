# LIOUSHELL 2.0
Computing the true polar wander on a dynamic planet, or the reorientation of a tidally locked body

To compile and run the code simply type ./gun.bat in the terminal (in the folder with the source code). Gfortran is chosen as the default compiler and it is free (the GNU Fortran compiler). If you want the executable to have a specific name and to run on background, type ./gun.bat myname. For a compilation with (licensed) ifort, type ./gun.bat myname ifort. Gfortran compilation seems to provide the same speed upon execution. By default, LIOUSHELL uses openMPI and runs on 3 threads, remove the -fopenmp compilation flag for a serial run. To get some basic figures for your simulation, type ./postpro.bat once your simulation is finished.

The input file that is needed to run a simulation is titled param.in. This file specifies the input parameters used by the code. See the default param.info in the source directory for a brief description of each of the typical input parameteres. The input files that were used to produce the simulations in "Dynamic reorientation of tidally locked bodies: application to Pluto" are in the folder param_files/Icarus2023, along with the scripts that automatically modify the basic input files generate the full list of simulations. To get the simulations of the full Liouville equation (i.e. including the wobble) described in "True Polar Wander on Dynamic Planets: Approximative Methods vs. Full Solution", copy param.ES (Fig. 1), param.EF (Fig. 2), or param.VP (Fig. 6) from the subfolder param_files into the source code directory. The input files must always be renamed to param.in when used.

Typically, each simulation is loaded from the hydrostatic shape of the studied body, stored in inistate.dat. Inistate.dat is generated by LIOUSHELL when savestate=1 (and loadstate=0, see the commented param.in). To spin a given model with a constant angular speed (and thus to obtain the hydrostatic state), run a simulation with loadstate=0, couple=0, and tstart= the expected relaxation time. For a typical series of TPW simulations, the same precomputed hydrostatic shape is loaded via loadstate=1 for all the runs from the same serie. In the subfolder inistates, the hydrostatic shapes for the Earth and Venus models from "True Polar Wander on Dynamic Planets: Approximative Methods vs. Full Solution" are included. Copy these as inistate.dat into the source directory in order to use it. For loadstate=1 simulations, the corresponding urad_ini.tail file should be placed on the same level as the source code directory - this file is needed if the energy components are to be plotted relative to the hydrostatic state only (see postpro.bat). Urad_ini.tail is the last line of urad_ini.dat that is generated when loadstate=0, i.e. during the initial relaxation process.

